<div>
  <app-navbar></app-navbar>
</div>
<div class="header" fxLayout="column" fxLayoutAlign="center center">
  <app-header></app-header> 
</div>
<h2>Register</h2>
<div class="main-div"> 
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
        <label for="nom">Nom</label>
        <input type="text" formControlName="nom" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nom.errors }" />
        <div *ngIf="submitted && f.nom.errors" class="invalid-feedback">
            <div *ngIf="f.nom.errors.required">Saisir Nom </div>
        </div>
    </div>
    <div class="form-group">
        <label for="prenom">Prenom</label>
        <input type="text" formControlName="prenom" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.prenom.errors }" />
        <div *ngIf="submitted && f.prenom.errors" class="invalid-feedback">
            <div *ngIf="f.prenom.errors.required">Saisir Prenom </div>
        </div>
    </div>
     
  <div class="form-group">
      <label for="telephone">N° Téléphone</label>
      <input type="text" formControlName="telephone" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.telephone.errors }" />
      <div *ngIf="submitted && f.telephone.errors" class="invalid-feedback">
          <div *ngIf="f.telephone.errors.required">Saisir N° téléphone </div>
      </div>
  </div>
  <div class="form-group">
      <label for="username">Email</label>
      <input type="text" formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
      <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required">Saisir email </div>
      </div>
  </div>
    <div class="form-group">
        <label for="motdepasse">Motdepasse</label>
        <input type="password" formControlName="motdepasse" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.motdepasse.errors }" />
        <div *ngIf="submitted && f.motdepasse.errors" class="invalid-feedback">
            <div *ngIf="f.motdepasse.errors.required"> Saisir motdepasse </div>
            <div *ngIf="f.motdepasse.errors.minlength">motdepasse doit avoir minimum 6 caractères</div>
        </div>
    </div>
   <div formArrayName="adresses" >  
       <div formGroupName="0">
        <label for="adresse">Adresse</label>      
        <div>
            <label for="rue">Rue</label>
            <input type="text"  formControlName="rue" class="form-control">       
        </div>    
        <div >
            <label for="ville">Ville</label>
            <input type="text"  formControlName="ville" class="form-control" >            
        </div> 
        <div >
            <label for="codePostale">Code Postale</label>
            <input type="text"  formControlName="codePostale" class="form-control">          
        </div> 
    </div> 
    </div>   
    <div class="form-group">
        <button [disabled]="loading" class="btn btn-primary">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Register
        </button>
        <a routerLink="/login" class="btn btn-link">Cancel</a>
    </div>    
</form>
</div>
<div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
  <app-footer></app-footer>
</div> 