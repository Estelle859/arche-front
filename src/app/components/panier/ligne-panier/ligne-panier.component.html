<div>
  <app-navbar></app-navbar>
</div>
<div class="header" fxLayout="column" fxLayoutAlign="center center">
  <app-header></app-header> 
</div>
<div class="container">
  <br>
  <a routerLink="/home" class="btn btn-primary"><i class="fa fa-angle-left"></i> Continuer Achat</a><br>
  <table id="cart" class="table table-hover table-condensed table-borderless">
    <thead>
      <tr>
        <th>Article</th>
        <th>Prix</th>
        <th>Quantit√©</th>
        <th>Total</th>
        <th></th>
      </tr>
    </thead>
    <tr *ngFor="let cartLine of cart;index as i">
      <td>
        {{cartLine?.article?.titre}}
      </td>
    
      <td>{{cartLine?.article?.prixUnitaire | currency:'EUR':true:'1.2-2'}}</td>
      <td>
        <div class="row">
          <div class="col-6">
            <input type="number" class=" mx-3 quantity_input" value = "{{cartLine?.qty}}"  name="input{{cartLine?.article?.id}}" (change)=" updateQuantity(cartLine?.article?.id!,$event)"> 
          </div>       
        </div> 
     </td>
      <td>
        {{  (cartLine?.qty ?? 0) * 100 * (cartLine?.article?.prixUnitaire ?? 0)/100 | currency:'EUR':true:'1.2-2'}}
      </td>
      <td> 
        <a class="btn btn-sm btn-danger text-white ml-1" (click)="deleteItemStorage(i)">
          <i class="fa fa-trash"></i>
        </a> 
      </td> 
    </tr>
  </table> 

  <div class="row">    
    <div class="col-9">Total Sum : {{total | number: '1.2-2'}} </div>

    <div class="offset-1 col-2"><button type="button" class="btn btn-primary align-right" (click)="valider()">Valider <i
          class="fa fa-angle-right"></i></button></div>
    </div> 
    <!-- <button class="btn btn-success" (click)="onNewOrder()">Commander</button> -->

</div>
<div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
  <app-footer></app-footer>
</div>
